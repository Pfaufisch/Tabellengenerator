<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Tabellengenerator</title>
<style>
body {
  font-family: sans-serif;
  font-size: 13px;
}

td {
    padding: 4px;
}


</style>
</head>
<body>

<h1>Eingabe</h1>

<h2>1. Wie soll die Tabelle aussehen?</h2>
<table>
<tr>
  <th>A</th>
  <th>B</th>
  <th>C</th>
  <th>D</th>
  <th>E</th>
  <th>F</th>
</tr>
<tr>
  <td><select id="rowA"><option value="a_mobile">Desktop & Mobile</option><option value="a_desktop">Nur Desktop</option><<option value="a_inactive">inaktiv</option></td>
  <td><select id="rowB"><option value="b_mobile">Desktop & Mobile</option><option value="b_desktop">Nur Desktop</option><<option value="b_inactive">inaktiv</option></td>
  <td><select id="rowC"><option value="c_mobile">Desktop & Mobile</option><option value="c_desktop">Nur Desktop</option><<option value="c_inactive">inaktiv</option></td>
  <td><select id="rowD"><option value="d_mobile">Desktop & Mobile</option><option value="d_desktop">Nur Desktop</option><<option value="d_inactive">inaktiv</option></td>
  <td><select id="rowE"><option value="e_mobile">Desktop & Mobile</option><option value="e_desktop">Nur Desktop</option><<option value="e_inactive" selected>inaktiv</option></td>
  <td><select id="rowF"><option value="f_mobile">Desktop & Mobile</option><option value="f_desktop">Nur Desktop</option><<option value="f_inactive" selected>inaktiv</option></td>
</tr>
<tr>
  <td><input type="text" id="titleOfRowA" placeholder="Überschrift Spalte A"></td>
  <td><input type="text" id="titleOfRowB" placeholder="Überschrift Spalte B"></td>
  <td><input type="text" id="titleOfRowC" placeholder="Überschrift Spalte C"></td>
  <td><input type="text" id="titleOfRowD" placeholder="Überschrift Spalte D"></td>
  <td><input type="text" id="titleOfRowE" placeholder="Überschrift Spalte E"></td>
  <td><input type="text" id="titleOfRowF" placeholder="Überschrift Spalte F"></td>
</tr>

</table>

<h2>2. Wie soll die Tabelle heißen?</h2>
<input type="text" id="tableHead">

<h2>3. Wie viele Zeilen hat die Tablle?</h2>
<select id="numberOfRows">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
<option>12</option>
<option>13</option>
<option>14</option>
<option>15</option>
</select>
<button id="submitRows">Bestätigen</button>

<h2>X. Tabelle kopieren und Inhalte einfügen</h2>
<textarea cols="60" rows="10" id="output"></textarea>



<script>
// 1. Spalten auslesen
document.getElementById("submitRows").addEventListener("click", parseRows);
function parseRows() {
  // Liest den Typ der Spalten aus
  let typeOfRowA = document.getElementById("rowA").value;
  let typeOfRowB = document.getElementById("rowB").value;
  let typeOfRowC = document.getElementById("rowC").value;
  let typeOfRowD = document.getElementById("rowD").value;
  let typeOfRowE = document.getElementById("rowE").value;
  let typeOfRowF = document.getElementById("rowF").value;

  // Liest den Namen der Spalten aus
  let titleOfRowA = document.getElementById("titleOfRowA").value;
  let titleOfRowB = document.getElementById("titleOfRowB").value;
  let titleOfRowC = document.getElementById("titleOfRowC").value;
  let titleOfRowD = document.getElementById("titleOfRowD").value;
  let titleOfRowE = document.getElementById("titleOfRowE").value;
  let titleOfRowF = document.getElementById("titleOfRowF").value;


  // Bereitet die Ausgabe der Spalten in Abhängigkeit vom gewählten Typ und samit Titel vor
  // Speichert außerdem die Zahl der aktiven Spalten
  let numberOfCols = 0;

  let setRowA;
  if (typeOfRowA == "a_mobile") {
    setRowA = "|"+titleOfRowA;
    numberOfCols = 1;
    console.log("Spalte A: "+setRowA);
  } else if (typeOfRowA == "a_desktop") {
    setRowA = "|"+titleOfRowA+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 1;
    console.log("Spalte A: "+setRowA);
  } else {
    setRowA = "";
    console.log("Spalte A ist inaktiv.");
  }

  let setRowB;
  if (typeOfRowB == "b_mobile") {
    setRowB = "|"+titleOfRowB;
    numberOfCols = 2;
    console.log("Spalte B: "+setRowB);
  } else if (typeOfRowB == "b_desktop") {
    setRowB = "|"+titleOfRowB+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 2;
    console.log("Spalte B: "+setRowB);
  } else {
    setRowB = "";
    console.log("Spalte B ist inaktiv.");
  }

  let setRowC;
  if (typeOfRowC == "c_mobile") {
    setRowC = "|"+titleOfRowC;
    numberOfCols = 3;
    console.log("Spalte C: "+setRowC);
  } else if (typeOfRowC == "c_desktop") {
    setRowB = "|"+titleOfRowC+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 3;
    console.log("Spalte C: "+setRowC);
  } else {
    setRowC = "";
    console.log("Spalte C ist inaktiv.");
  }

  let setRowD;
  if (typeOfRowD == "d_mobile") {
    setRowD = "|"+titleOfRowD;
    numberOfCols = 4;
    console.log("Spalte D: "+setRowD);
  } else if (typeOfRowD == "d_desktop") {
    setRowD = "|"+titleOfRowD+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 4;
    console.log("Spalte D: "+setRowD);
  } else {
    setRowD = "";
    console.log("Spalte D ist inaktiv.");
  }

  let setRowE;
  if (typeOfRowE == "e_mobile") {
    setRowE = "|"+titleOfRowE;
    console.log("Spalte E: "+setRowE);
    numberOfCols = 5;
  } else if (typeOfRowE == "e_desktop") {
    setRowE = "|"+titleOfRowE+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 5;
    console.log("Spalte E: "+setRowE);
  } else {
    setRowE = "";
    console.log("Spalte E ist inaktiv.");
  }

  let setRowF;
  if (typeOfRowF == "f_mobile") {
    setRowF = "|"+titleOfRowF;
    numberOfCols = 6;
    console.log("Spalte F: "+setRowF);
  } else if (typeOfRowF == "f_desktop") {
    setRowF = "|"+titleOfRowF+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 6;
    console.log("Spalte F: "+setRowF);
  } else {
    setRowF = "";
    console.log("Spalte F ist inaktiv.");
  }

  console.log(numberOfCols);

  // Liest die Tabellen-Überschfift aus
  let originalTitle;
  document.getElementById("tableHead").change = originalTitle = document.getElementById("tableHead").value;

  // Ermittelt, wie viele Trennzeichen für den Tabelleninhalt benötigt werden
  let separator;
  switch (numberOfCols) {
    case 1:
      separator = "|spalte1";
      console.log("Ein Tabelle mit einer Spalte ist auch irgendwie Quatsch, oder?");
      break
    case 2:
      separator = "|spalte1|spalte2\n";
      break
    case 3:
      separator = "|spalte1|spalte2|spalte3\n";
      break
    case 4:
      separator = "|spalte1|spalte2|spalte3|spalte4\n";
      break
    case 5:
      separator = "|spalte1|spalte2|spalte3|spalte4|spalte5\n";
      break
    case 6:
      separator = "|spalte1|spalte2|spalte3|spalte4|spalte5|spalte6\n";
      break
  }

  // Liest die Zahl der Zeilen aus
  let numberOfRows = document.getElementById("numberOfRows").value;
  console.log("Zeilen: "+numberOfRows);

  let contentRows = separator.repeat(numberOfRows);
  console.log(contentRows);

  // Erzeugt die eigentliche Ausgabe
  document.getElementById("output").innerHTML = `<chip-widgets type="table">\n<chip-header>${originalTitle}</chip-header>\n<chip-content>\n|${setRowA}${setRowB}${setRowC}${setRowD}${setRowE}${setRowF}||\n${contentRows}</chip-content>\n</chip-widgets>`;

}


//<chip-widgets type="table"><chip-header>TABELLENÜBERSCHRIFT</chip-header><chip-content>||Überschrift 1|Überschrift 2|Überschrift 3|Überschrift 4<chip-mobile>no</chip-mobile>|Überschrift 5<chip-mobile>no</chip-mobile>||
// |inhalt 1|inhalt 2|inhalt 3|inhalt 4

/*
document.getElementById("titleOfRowA").addEventListener("change", myFunction);
function myFunction() {
  var x = document.getElementById("titleOfRowA");
  x.value = x.value.toUpperCase();
}
*/




</script>



<!--
<textarea cols="60" rows="10" id="input"></textarea>

<br>
Spalte hinzufügen:
<button id="mobile">Mobil und Desktop</button>
<button id="desktop">Nur Desktop</button>
<br>
Bewertung:
<button id="gut">gut ↑</button>
<button id="mittel">mittel →</button>
<button id="schlecht">schlecht ↓</button>




<ol>
 <li>Titel vergeben</li>
 <li>Spalten hinzufuegen (mit Buttons?)</li>
 <li>Inhalt hinzufuegen</li>
 <li>Bewertungen hinzufuegen (Buttons!)</li>
 <li>Buttons hinzufuegen (Button-Buttons!)</li>
 <li>?</li>
 <li>Tabelle wird unten generiert</li>
</ol>

</div>

<div>
<h1>Ausgabe</h1>
<p>Vollstaendig kopieren und in InterRed einfuegen</p>
<textarea cols="60" rows="10" id="output" readonly></textarea>
</div>
-->

<!--
<script>
// Wiederverwendete Schnipsel
const gut = '<chip-thumbs>gut</chip-thumbs>';
const mittel = '<chip-thumbs>befriedigend</chip-thumbs>';
const schlecht = '<chip-thumbs>mangelhaft</chip-thumbs>';

// Bewertungs-Buttons Text einfügen lassen
document.getElementById('gut').onclick = tagGut;

function tagGut() {
  console.log('Hallo Welt');
}



// Spalten einfügen

document.getElementById('desktop').onclick = insertColDesktop;

// Quelle: https://stackoverflow.com/questions/11076975/insert-text-into-textarea-at-cursor-position-javascript
function insertColDesktop() {
    let myField = document.getElementById('input');
    let myValue = '<chip-mobile>no</chip-mobile>';

    //IE support
    if (document.selection) {
        myField.focus();
        sel = document.selection.createRange();
        sel.text = myValue;
    }
    //MOZILLA and others
    else if (myField.selectionStart || myField.selectionStart == '0') {
        var startPos = myField.selectionStart;
        var endPos = myField.selectionEnd;
        myField.value = myField.value.substring(0, startPos)
            + myValue
            + myField.value.substring(endPos, myField.value.length);
        myField.selectionStart = startPos + myValue.length;
        myField.selectionEnd = startPos + myValue.length;
    } else {
        myField.value += myValue;
    }
}




// Ausgabe

document.getElementById('input').addEventListener('keyup', generateOutput);

function generateOutput() {
  // Gesamter Inhalt von input
  let originalInput = document.getElementById('input').value;

  // Titel-Zeile auslesen
  let originalTitle = originalInput.split('\n')[0];

  // Zweite Zeile auslesen
  let originalCols = originalInput.split('\n')[1];

  // Ausgabe
  document.getElementById('output').innerHTML = `<chip-widgets type="table">\n<chip-header>${originalTitle}</chip-header>\n<chip-content>\n${originalCols}\n</chip-content>\n</chichip-widgets>`;
}



// Ab hier beginnt die Ausgabe
// <chip-widgets type="table">
// <chip-header>$title</chip-header>
// <chip-content>
// ||Überschrift 1|Überschrift 2|Überschrift 3|| ($cols)
// |Text1|Text2|Text3
// </chip-content>
// </chip-widgets>




/*
// Alle Eingaben wieder ausgeben


let originalInput = document.getElementById('input').value;

document.getElementById('input').onkeyup = testPrint;

function testPrint() {
  let input = document.getElementById('input');
  console.log(input.value);
  document.getElementById('output').innerHTML = input.value;
}

// Erste Zeile der Textarea als Titel markieren
let originalTitle = originalInput.split('\n')[0];

// Titel der Tabelle ins Markup packen
// let title = '<chip-header>' + originalTitle + '</chip-header>';



// Gesamtausgabe von allem.
document.getElementById('input').onkeyup = printOutput;

function printOutput() {
  document.getElementById('output').innerHTML = `<chip-widgets type="table"> \n <chip-header> ${originalTitle} </chip-header> \n <chip-content>`;
}



Das ist der Ansatz für eine separate Titel-Zeile, der aber hoffentlich nicht benötigt wird!

document.getElementById('title').onkeyup = titleConverter;

function titleConverter() {
  let originalTitle = document.getElementById('title').value;
  document.getElementById('output').innerHTML = '<chip-header>' + originalTitle + '</chip-header>';
}
*/







</script>
-->
</body>

</html>
