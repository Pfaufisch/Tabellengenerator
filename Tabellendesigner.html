<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Tabellengenerator</title>
<style>
body {
  font-family: sans-serif;
  font-size: 13px;
}

td {
    padding: 4px;
}

</style>
</head>
<body>

<h1>Eingabe</h1>

<h2>1. Wie soll die Tabelle aussehen?</h2>
<table>
<tr>
  <th>A</th>
  <th>B</th>
  <th>C</th>
  <th>D</th>
  <th>E</th>
  <th>F</th>
</tr>
<tr>
  <td><select id="rowA"><option value="a_mobile">Desktop & Mobile</option><option value="a_desktop">Nur Desktop</option><<option value="a_inactive">inaktiv</option></td>
  <td><select id="rowB"><option value="b_mobile">Desktop & Mobile</option><option value="b_desktop">Nur Desktop</option><<option value="b_inactive">inaktiv</option></td>
  <td><select id="rowC"><option value="c_mobile">Desktop & Mobile</option><option value="c_desktop">Nur Desktop</option><<option value="c_inactive">inaktiv</option></td>
  <td><select id="rowD"><option value="d_mobile">Desktop & Mobile</option><option value="d_desktop">Nur Desktop</option><<option value="d_inactive">inaktiv</option></td>
  <td><select id="rowE"><option value="e_mobile">Desktop & Mobile</option><option value="e_desktop">Nur Desktop</option><<option value="e_inactive" selected>inaktiv</option></td>
  <td><select id="rowF"><option value="f_mobile">Desktop & Mobile</option><option value="f_desktop">Nur Desktop</option><<option value="f_inactive" selected>inaktiv</option></td>
</tr>
<tr>
  <td><input type="text" id="titleOfRowA" placeholder="Überschrift Spalte A"></td>
  <td><input type="text" id="titleOfRowB" placeholder="Überschrift Spalte B"></td>
  <td><input type="text" id="titleOfRowC" placeholder="Überschrift Spalte C"></td>
  <td><input type="text" id="titleOfRowD" placeholder="Überschrift Spalte D"></td>
  <td><input type="text" id="titleOfRowE" placeholder="Überschrift Spalte E"></td>
  <td><input type="text" id="titleOfRowF" placeholder="Überschrift Spalte F"></td>
</tr>

</table>

<h2>2. Wie soll die Tabelle heißen?</h2>
<input type="text" id="tableHead">

<h2>3. Wie viele Zeilen hat die Tablle?</h2>
<select id="numberOfRows">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
<option>12</option>
<option>13</option>
<option>14</option>
<option>15</option>
</select>
<button id="submitRows">Bestätigen</button>

<h2>X. Tabelle kopieren und Inhalte einfügen</h2>
<textarea cols="60" rows="10" id="output"></textarea>

<div class="hint">
  <p>Bewertungen:</p>

  <ul>
    <li>&lt;chip-thumbs&gt;gut&lt;/chip-thumbs&gt;</li>
    <li>&lt;chip-thumbs&gt;befriedigend&lt;/chip-thumbs&gt;</li>
    <li>&lt;chip-thumbs&gt;mangelhaft&lt;/chip-thumbs&gt;</li>
  </ul>

  <p>*Text fetten*</p>

  <p>Zeilenumbruch: \\\\</p>

  <p>Button: &lt;chip-button&gt;&lt;a href="#" rel="nofollow" target="_blank"&gt;Linktest&lt;/a&gt;&lt;/chip-button&gt;</p>
</div>



<script>
// 1. Spalten auslesen
document.getElementById("submitRows").addEventListener("click", parseRows);
function parseRows() {
  // Liest den Typ der Spalten aus
  let typeOfRowA = document.getElementById("rowA").value;
  let typeOfRowB = document.getElementById("rowB").value;
  let typeOfRowC = document.getElementById("rowC").value;
  let typeOfRowD = document.getElementById("rowD").value;
  let typeOfRowE = document.getElementById("rowE").value;
  let typeOfRowF = document.getElementById("rowF").value;

  // Liest den Namen der Spalten aus
  let titleOfRowA = document.getElementById("titleOfRowA").value;
  let titleOfRowB = document.getElementById("titleOfRowB").value;
  let titleOfRowC = document.getElementById("titleOfRowC").value;
  let titleOfRowD = document.getElementById("titleOfRowD").value;
  let titleOfRowE = document.getElementById("titleOfRowE").value;
  let titleOfRowF = document.getElementById("titleOfRowF").value;


  // Bereitet die Ausgabe der Spalten in Abhängigkeit vom gewählten Typ plus Titel vor
  // Speichert außerdem die Zahl der aktiven Spalten
  let numberOfCols = 0;

  let setRowA;
  if (typeOfRowA == "a_mobile") {
    setRowA = "|"+titleOfRowA;
    numberOfCols = 1;
    console.log("Spalte A: "+setRowA);
  } else if (typeOfRowA == "a_desktop") {
    setRowA = "|"+titleOfRowA+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 1;
    console.log("Spalte A: "+setRowA);
  } else {
    setRowA = "";
    console.log("Spalte A ist inaktiv.");
  }

  let setRowB;
  if (typeOfRowB == "b_mobile") {
    setRowB = "|"+titleOfRowB;
    numberOfCols = 2;
    console.log("Spalte B: "+setRowB);
  } else if (typeOfRowB == "b_desktop") {
    setRowB = "|"+titleOfRowB+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 2;
    console.log("Spalte B: "+setRowB);
  } else {
    setRowB = "";
    console.log("Spalte B ist inaktiv.");
  }

  let setRowC;
  if (typeOfRowC == "c_mobile") {
    setRowC = "|"+titleOfRowC;
    numberOfCols = 3;
    console.log("Spalte C: "+setRowC);
  } else if (typeOfRowC == "c_desktop") {
    setRowB = "|"+titleOfRowC+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 3;
    console.log("Spalte C: "+setRowC);
  } else {
    setRowC = "";
    console.log("Spalte C ist inaktiv.");
  }

  let setRowD;
  if (typeOfRowD == "d_mobile") {
    setRowD = "|"+titleOfRowD;
    numberOfCols = 4;
    console.log("Spalte D: "+setRowD);
  } else if (typeOfRowD == "d_desktop") {
    setRowD = "|"+titleOfRowD+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 4;
    console.log("Spalte D: "+setRowD);
  } else {
    setRowD = "";
    console.log("Spalte D ist inaktiv.");
  }

  let setRowE;
  if (typeOfRowE == "e_mobile") {
    setRowE = "|"+titleOfRowE;
    console.log("Spalte E: "+setRowE);
    numberOfCols = 5;
  } else if (typeOfRowE == "e_desktop") {
    setRowE = "|"+titleOfRowE+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 5;
    console.log("Spalte E: "+setRowE);
  } else {
    setRowE = "";
    console.log("Spalte E ist inaktiv.");
  }

  let setRowF;
  if (typeOfRowF == "f_mobile") {
    setRowF = "|"+titleOfRowF;
    numberOfCols = 6;
    console.log("Spalte F: "+setRowF);
  } else if (typeOfRowF == "f_desktop") {
    setRowF = "|"+titleOfRowF+"<chip-mobile>no</chip-mobile>";
    numberOfCols = 6;
    console.log("Spalte F: "+setRowF);
  } else {
    setRowF = "";
    console.log("Spalte F ist inaktiv.");
  }

  console.log(numberOfCols);

  // Liest die Tabellen-Überschfift aus
  let originalTitle;
  document.getElementById("tableHead").change = originalTitle = document.getElementById("tableHead").value;

  // Ermittelt, wie viele Trennzeichen für den Tabelleninhalt benötigt werden
  let separator;
  switch (numberOfCols) {
    case 1:
      separator = "|spalte1";
      console.log("Ein Tabelle mit einer Spalte ist auch irgendwie Quatsch, oder?");
      break
    case 2:
      separator = "|spalte1|spalte2\n";
      break
    case 3:
      separator = "|spalte1|spalte2|spalte3\n";
      break
    case 4:
      separator = "|spalte1|spalte2|spalte3|spalte4\n";
      break
    case 5:
      separator = "|spalte1|spalte2|spalte3|spalte4|spalte5\n";
      break
    case 6:
      separator = "|spalte1|spalte2|spalte3|spalte4|spalte5|spalte6\n";
      break
  }

  // Liest die Zahl der Zeilen aus
  let numberOfRows = document.getElementById("numberOfRows").value;
  console.log("Zeilen: "+numberOfRows);

  // Erstellt die Trennzeichen für alle Zeilen
  let contentRows = separator.repeat(numberOfRows);
  console.log(contentRows);

  // Erzeugt die eigentliche Ausgabe
  document.getElementById("output").innerHTML = `<chip-widgets type="table">\n<chip-header>${originalTitle}</chip-header>\n<chip-content>\n|${setRowA}${setRowB}${setRowC}${setRowD}${setRowE}${setRowF}||\n${contentRows}</chip-content>\n</chip-widgets>`;

/*

ToDos

- "row" und "col" korrekt benutzen (Aua.)
- bearbeitbare Tabelle aus den gewählten Einstellungen erzeugen
- Mögichkeit zum Einfügen von Bewertungsbuttons ergänzen

*/

}
</script>

</body>

</html>
